name: Claude (Self-Review)

# This workflow uses the reusable workflow in this repository
# to review PRs in this repository itself (dogfooding)

on:
    pull_request:
        types: [opened, synchronize, reopened]

jobs:
    claude-review:
        permissions:
            contents: read
            pull-requests: write
            id-token: write
        uses: ./.github/workflows/review.yml
        with:
            framework: "generic"
        secrets:
            ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
